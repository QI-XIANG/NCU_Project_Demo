import{initializeApp}from"https://www.gstatic.com/firebasejs/9.8.3/firebase-app.js";import{getAnalytics}from"https://www.gstatic.com/firebasejs/9.8.3/firebase-analytics.js";import{delCookie,getCookie}from"./common_function.js";const firebaseConfig={apiKey:"AIzaSyDtTxfCIJIfPTEw44Ah5I1lpjiDO96FlJM",authDomain:"mydatabase-8f225.firebaseapp.com",databaseURL:"https://mydatabase-8f225-default-rtdb.firebaseio.com",projectId:"mydatabase-8f225",storageBucket:"mydatabase-8f225.appspot.com",messagingSenderId:"68532714578",appId:"1:68532714578:web:fc038b336827906b65338b",measurementId:"G-68RXLWEXS7"};firebase.initializeApp(firebaseConfig);var db=firebase.database();null==getCookie("identityNumber")&&(alert("請先登入再前往本頁面!"),window.location="Government_login.html"),null!=getCookie("uid")&&delCookie("uid");var data,logout_btn=document.querySelector(".logout_btn");logout_btn.addEventListener("click",(e=>{null!=getCookie("identityNumber")&&(delCookie("identityNumber"),document.cookie="LoginStatus=No",window.location="Government_login.html")}));var customer_row,customer_detail,users_id=[],count=1,customer_table_tbody=document.querySelector("tbody.customer-table-tbody");function generateCustomerRow(e,t,o){customer_row='<tr>\n                        <td class="customer_number">'+Number(t)+'</td>\n                        <td class="customer_name">'+e.realName+'</td>\n                        <td class="customer_gender">'+e.gender+'</td>\n                        <td class="customer_birth">'+e.birthDate+'</td>\n                        <td class="customer_detail"><a href="#" id="user_info_'+o+'" class="user_info">點擊查看</a></td>\n                    </tr>',customer_table_tbody.innerHTML+=customer_row,(t=users_id.length)&&((customer_detail=document.querySelectorAll(".user_info")).forEach((e=>{e.addEventListener("click",(e=>{null!=getCookie("uid")&&delCookie("uid"),document.cookie="uid="+String(e.target.id).substring(10),window.location="insuranceCompany_UserProfile.html"}))})),$(".loader-wrapper").fadeOut("slow"))}db.ref("/Government/restrictedUsers").once("value",(function(e){(data=e.val()).forEach((e=>{users_id.push(e)})),users_id.forEach((e=>{db.ref("/Users/"+String(e)).once("value",(function(t){generateCustomerRow(data=t.val(),count,e),(count+=1)-1==users_id.length&&$("#table-demo").DataTable({lengthMenu:[[5,10,15,20],[5,10,15,20]],language:{lengthMenu:"顯示 _MENU_ 筆資料",sProcessing:"處理中...",sZeroRecords:"查無符合結果",sInfo:"目前有 _MAX_ 筆資料",sInfoEmpty:"目前共有 0 筆紀錄",sInfoFiltered:" ",sInfoPostFix:"",sSearch:"搜尋:",sUrl:"",sEmptyTable:"尚未有資料紀錄存在",sLoadingRecords:"載入資料中...",sInfoThousands:",",oPaginate:{sFirst:"首頁",sPrevious:"上一頁",sNext:"下一頁",sLast:"末頁"},order:[[0,"desc"]],oAria:{sSortAscending:": 以升序排列此列",sSortDescending:": 以降序排列此列"}}})}))}))}));