import{initializeApp}from"https://www.gstatic.com/firebasejs/9.8.3/firebase-app.js";import{getAnalytics}from"https://www.gstatic.com/firebasejs/9.8.3/firebase-analytics.js";import{delCookie,getCookie}from"./common_function.js";const firebaseConfig={apiKey:"AIzaSyDtTxfCIJIfPTEw44Ah5I1lpjiDO96FlJM",authDomain:"mydatabase-8f225.firebaseapp.com",databaseURL:"https://mydatabase-8f225-default-rtdb.firebaseio.com",projectId:"mydatabase-8f225",storageBucket:"mydatabase-8f225.appspot.com",messagingSenderId:"68532714578",appId:"1:68532714578:web:fc038b336827906b65338b",measurementId:"G-68RXLWEXS7"};firebase.initializeApp(firebaseConfig);var db=firebase.database(),companyNumber=document.getElementById("CompanyNumber"),password=document.getElementById("Password"),loginBtn=document.getElementById("loginBtn"),companyName=document.getElementById("CompanyName"),InfoNeedNow=document.querySelector(".InfoNeedNow");null!=getCookie("uid")&&(delCookie("uid"),document.cookie="LoginStatus=No"),null!=getCookie("identityNumber")&&(delCookie("identityNumber"),document.cookie="LoginStatus=No"),null!=getCookie("CompanyName")&&(alert("您已經登入，即將跳轉回保險公司頁面!"),document.cookie="LoginStatus=Yes",window.location="insuranceCompany.html"),loginBtn.addEventListener("click",(function(e){e.preventDefault(),"default"==companyName.value&&alert("請選擇保險公司名稱!"),"default"!=companyName.value&&db.ref("InsuranceCompany/"+String(companyName.value)).once("value",(function(e){var a=e.val();a.CompanyId!=companyNumber.value&&alert("公司編號輸入有誤，請重新輸入!"),a.CompanyId==companyNumber.value&&(a.Password!=password.value&&alert("公司預設密碼輸入有誤，請重新輸入!"),a.Password==password.value&&(alert("登入成功，即將跳轉到保險公司頁面"),document.cookie="CompanyName="+String(companyName.value),document.cookie="LoginStatus=Yes",window.location="InsuranceCompany.html"))}))})),InfoNeedNow.addEventListener("click",(e=>{$("#InfoNeedNow").dialog({width:360,height:250,modal:!0,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:500}}),$("#InfoNeedNow").show()}));